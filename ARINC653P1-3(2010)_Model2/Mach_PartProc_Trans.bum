<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.machineFile org.eventb.core.configuration="org.eventb.core.fwd;de.prob.units.mchBase;org.eventb.codegen.ui.cgConfig" org.eventb.texttools.text_lastmodified="1444907061016" org.eventb.texttools.text_representation="machine Mach_PartProc_Trans&#10; refines Mach_Part_Trans  sees Ctx_PartProc_Trans&#10;&#10;variables processes&#10;          processes_of_partition&#10;          partition_mode process_state&#10;&#10;invariants&#10;  @inv_proc processes ∈ ℙ(PROCESSES)&#10;  @inv_proc_state process_state ∈ processes → PROCESS_STATES&#10;  @inv_proc_of_part processes_of_partition ∈ processes → PARTITIONS&#10;  @inv_readyrunsuspproc_onlyin_normalpart ∀p·(p∈PARTITIONS ∧ partition_mode(p) ≠ PM_NORMAL ⇒&#10;                                          ∀proc·(proc ∈ processes_of_partition∼[{p}] ⇒&#10;                                          process_state(proc) ≠PS_Ready ∧ process_state(proc) ≠PS_Running ∧ process_state(proc) ≠PS_Suspend) )&#10;  @inv_readyrunsusp_proc_imply_normalpart ∀proc·(proc ∈ processes ∧ (process_state(proc)=PS_Ready ∨ process_state(proc)=PS_Running ∨ process_state(proc)=PS_Suspend)&#10;                                          ⇒  partition_mode(processes_of_partition(proc)) = PM_NORMAL)&#10;  @inv_noproc_imply_notnormal ∀part·(part ∈ PARTITIONS ∧ part∈ran(processes_of_partition) ∧ card(processes_of_partition∼[{part}])=0 ⇒  partition_mode(part) ≠ PM_NORMAL)&#10;  @inv_normalmode_imply_procs ∀part·(part ∈ PARTITIONS ∧ partition_mode(part) = PM_NORMAL ⇒ part∈ran(processes_of_partition) ∧card(processes_of_partition∼[{part}])&gt;0)&#10;  @inv_idlemode_imply_noproc ∀part·(part ∈ PARTITIONS ∧ partition_mode(part) = PM_IDLE ⇒ part∉ran(processes_of_partition))&#10;  @inv_part_mode partition_mode ∈ PARTITIONS → PARTITION_MODES&#10;&#10;events&#10;  event INITIALISATION&#10;    then&#10;      @act01 partition_mode ≔ PARTITIONS × {PM_COLD_START}&#10;      @act00 processes ≔ ∅&#10;      @act02 process_state ≔ ∅&#10;      @act03 processes_of_partition ≔ ∅&#10;  end&#10;&#10;  event process_schedule&#10;    any part proc&#10;    where&#10;      @grd01 part ∈ PARTITIONS&#10;      @grd02 proc ∈ processes&#10;      @grd03 processes_of_partition(proc) = part&#10;      @grd04 partition_mode(part) = PM_NORMAL&#10;      @grd05 process_state(proc) = PS_Ready ∨ process_state(proc) = PS_Running&#10;    then&#10;      @act1 process_state ≔ (process_state  (process_state∼[{PS_Running}] × {PS_Ready}))  {proc ↦  PS_Running}&#10;  end&#10;&#10;  event create_process&#10;    any part proc&#10;    where&#10;      @grd01 part ∈ PARTITIONS&#10;      @grd02 proc ∈ PROCESSES ∖ processes&#10;      @grd03 partition_mode(part)=PM_COLD_START ∨ partition_mode(part)=PM_WARM_START&#10;    then&#10;      @act01 processes ≔ processes ∪ {proc}&#10;      @act02 processes_of_partition(proc) ≔ part&#10;      @act03 process_state(proc) ≔ PS_Dormant&#10;  end&#10;&#10;  event partition_modetransition_to_idle refines partition_mode_transition&#10;    any part newm procs&#10;    where&#10;      @grd01 part ∈ PARTITIONS&#10;      @grd02 newm ∈ PARTITION_MODES&#10;      @grd03 partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START ∨  partition_mode(part) = PM_NORMAL&#10;      @grd04 newm = PM_IDLE&#10;      @grd07 procs = processes_of_partition∼[{part}]&#10;    then&#10;      @act01 partition_mode(part) ≔ newm&#10;      @act22 processes ≔ processes ∖ procs&#10;      @act23 process_state ≔  procs ⩤ process_state&#10;      @act24 processes_of_partition ≔  procs ⩤ processes_of_partition&#10;  end&#10;&#10;  event partition_modetransition_to_normal refines partition_mode_transition&#10;    any part newm procs procsstate&#10;        procs2&#10;    where&#10;      @grd01 part ∈ PARTITIONS&#10;      @grd02 newm ∈ PARTITION_MODES&#10;      @grd03 partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START&#10;      @grd04 newm = PM_NORMAL&#10;      @grd08 card(processes_of_partition∼[{part}]) &gt; 0&#10;      @grd09 procs =processes_of_partition∼[{part}] ∩ process_state∼[{PS_Waiting}]&#10;      @grd10 procs2 = processes_of_partition∼[{part}] ∩ process_state∼[{PS_WaitandSuspend}]&#10;      @grd101 procsstate ∈ procs → {PS_Waiting,PS_Ready}&#10;    then&#10;      @act01 partition_mode(part) ≔ newm&#10;      @act22 process_state ≔ (process_state   procsstate)  (procs2 ×{PS_Suspend})&#10;  end&#10;&#10;  event partition_modetransition_to_coldstart&#10;  refines partition_mode_transition&#10;    any part newm procs&#10;    where&#10;      @grd01 part ∈ PARTITIONS&#10;      @grd02 newm ∈ PARTITION_MODES&#10;      @grd04 newm = PM_COLD_START&#10;      @grd03 partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START ∨  partition_mode(part) = PM_NORMAL&#10;      @grd08 procs = processes_of_partition∼[{part}]&#10;    then&#10;      @act01 partition_mode(part) ≔ newm&#10;      @act22 processes ≔ processes ∖ procs&#10;      @act23 process_state ≔  procs ⩤ process_state&#10;      @act24 processes_of_partition ≔  procs ⩤ processes_of_partition&#10;  end&#10;&#10;  event partition_modetransition_to_warmstart&#10;  refines partition_mode_transition&#10;    any part newm procs&#10;    where&#10;      @grd01 part ∈ PARTITIONS&#10;      @grd02 newm ∈ PARTITION_MODES&#10;      @grd04 newm = PM_WARM_START&#10;      @grd09 partition_mode(part) = PM_WARM_START ∨  partition_mode(part) = PM_NORMAL&#10;      @grd08 procs = processes_of_partition∼[{part}]&#10;    then&#10;      @act01 partition_mode(part) ≔ newm&#10;      @act22 processes ≔ processes ∖ procs&#10;      @act23 process_state ≔  procs ⩤ process_state&#10;      @act24 processes_of_partition ≔  procs ⩤ processes_of_partition&#10;  end&#10;&#10;  event partition_modetransition_idle_to_warmstart&#10;  refines partition_mode_transition&#10;    any part newm&#10;    where&#10;      @grd01 part ∈ PARTITIONS&#10;      @grd02 newm ∈ PARTITION_MODES&#10;      @grd04 newm = PM_WARM_START&#10;      @grd07 partition_mode(part) = PM_IDLE&#10;    then&#10;      @act01 partition_mode(part) ≔ newm&#10;  end&#10;&#10;  event partition_modetransition_idle_to_coldstart&#10;  refines partition_mode_transition&#10;    any part newm&#10;    where&#10;      @grd01 part ∈ PARTITIONS&#10;      @grd02 newm ∈ PARTITION_MODES&#10;      @grd04 newm = PM_COLD_START&#10;      @grd07 partition_mode(part) = PM_IDLE&#10;    then&#10;      @act01 partition_mode(part) ≔ newm&#10;  end&#10;&#10;  event process_state_transition&#10;    any part proc newstate&#10;    where&#10;      @grd01 part ∈ PARTITIONS&#10;      @grd02 proc ∈ processes&#10;      @grd03 newstate ∈ PROCESS_STATES&#10;      @grd06 processes_of_partition(proc) = part&#10;      @grd07 partition_mode(part) = PM_NORMAL ∨ partition_mode(part) = PM_WARM_START ∨ partition_mode(part) = PM_COLD_START /*partition_mode(part) ≠ PM_IDLE*/&#10;      @grd20 ((partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_Dormant) ⇒ newstate = PS_Waiting&#10;      @grd21 ((partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_Waiting) ⇒ (newstate = PS_Dormant ∨ newstate = PS_WaitandSuspend)&#10;      @grd29 ((partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_WaitandSuspend) ⇒ (newstate = PS_Dormant ∨ newstate = PS_Waiting)&#10;      @grd22 (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Dormant) ⇒ (newstate = PS_Ready ∨newstate = PS_Waiting)&#10;      @grd23 (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Ready) ⇒ (newstate = PS_Dormant ∨ newstate = PS_Suspend)&#10;      @grd24 (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Waiting) ⇒ (newstate = PS_Dormant ∨newstate = PS_WaitandSuspend ∨newstate = PS_Ready)&#10;      @grd25 (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Suspend) ⇒ (newstate = PS_Dormant ∨newstate = PS_Ready)&#10;      @grd28 (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_WaitandSuspend) ⇒ (newstate = PS_Waiting ∨newstate = PS_Suspend∨newstate = PS_Dormant)&#10;      @grd27 (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Running) ⇒  (newstate = PS_Running ∨ newstate = PS_Ready ∨ newstate = PS_Waiting ∨newstate = PS_Suspend∨newstate = PS_Dormant)&#10;    then&#10;      @act01 process_state(proc) ≔ newstate&#10;  end&#10;&#10;  event process_state_transition2&#10;    any part procs newstates&#10;    where&#10;      @grd01 part ∈ PARTITIONS&#10;      @grd02 procs ⊆ processes&#10;      @grd03 newstates ∈ procs → PROCESS_STATES&#10;      @grd06 procs ⊆ processes_of_partition∼[{part}]&#10;      @grd07 partition_mode(part) = PM_NORMAL ∨ partition_mode(part) = PM_WARM_START ∨ partition_mode(part) = PM_COLD_START /*partition_mode(part) ≠ PM_IDLE*/&#10;      @grd20 ∀proc·((proc∈procs ∧ (partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_Dormant) ⇒ newstates(proc) = PS_Waiting )&#10;      @grd21 ∀proc·((proc∈procs ∧ (partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_Waiting) ⇒ (newstates(proc) = PS_Dormant ∨ newstates(proc) = PS_WaitandSuspend) )&#10;      @grd29 ∀proc·((proc∈procs ∧ (partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_WaitandSuspend) ⇒ (newstates(proc) = PS_Dormant ∨ newstates(proc) = PS_Waiting))&#10;      @grd22 ∀proc·(proc∈procs ∧ (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Dormant) ⇒ (newstates(proc) = PS_Ready ∨newstates(proc) = PS_Waiting) )&#10;      @grd23 ∀proc·(proc∈procs ∧  (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Ready) ⇒ (newstates(proc) = PS_Dormant ∨ newstates(proc) = PS_Suspend) )&#10;      @grd24 ∀proc·(proc∈procs ∧ (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Waiting) ⇒ (newstates(proc) = PS_Dormant ∨newstates(proc) = PS_WaitandSuspend ∨newstates(proc) = PS_Ready) )&#10;      @grd25 ∀proc·(proc∈procs ∧ (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Suspend) ⇒ (newstates(proc) = PS_Dormant ∨newstates(proc) = PS_Ready) )&#10;      @grd28 ∀proc·(proc∈procs ∧ (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_WaitandSuspend) ⇒ (newstates(proc) = PS_Waiting ∨newstates(proc) = PS_Suspend∨newstates(proc) = PS_Dormant) )&#10;      @grd27 ∀proc·(proc∈procs ∧ (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Running) ⇒  (newstates(proc) = PS_Running ∨ newstates(proc) = PS_Ready ∨ newstates(proc) = PS_Waiting ∨newstates(proc) = PS_Suspend∨newstates(proc) = PS_Dormant) )&#10;    then&#10;      @act01 process_state ≔ process_state  newstates&#10;  end&#10;end&#10;" version="5">
<org.eventb.core.refinesMachine name="_Gxg6gM4TEeO_w8hSz1RRkQ" org.eventb.core.target="Mach_Part_Trans"/>
<org.eventb.core.seesContext name="_78mgsM21EeO_w8hSz1RRkQ" org.eventb.core.target="Ctx_PartProc_Trans"/>
<org.eventb.core.event name="'" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="INITIALISATION">
<org.eventb.core.action name="_cLCTgNS7EeO_AqRzFCxhpA" org.eventb.core.assignment="partition_mode ≔ PARTITIONS × {PM_COLD_START}" org.eventb.core.label="act01"/>
<org.eventb.core.action name="_LvX14M22EeO_w8hSz1RRkQ" org.eventb.core.assignment="processes ≔ ∅" org.eventb.core.label="act00"/>
<org.eventb.core.action name="_LvX14s22EeO_w8hSz1RRkQ" org.eventb.core.assignment="process_state ≔ ∅" org.eventb.core.label="act02"/>
<org.eventb.core.action name="_LvX14822EeO_w8hSz1RRkQ" org.eventb.core.assignment="processes_of_partition ≔ ∅" org.eventb.core.label="act03"/>
</org.eventb.core.event>
<org.eventb.core.variable name="_78mgsc21EeO_w8hSz1RRkQ" org.eventb.core.identifier="processes"/>
<org.eventb.core.variable name="_78mgss21EeO_w8hSz1RRkQ" org.eventb.core.identifier="processes_of_partition"/>
<org.eventb.core.variable name="_78mgs821EeO_w8hSz1RRkQ" org.eventb.core.identifier="partition_mode"/>
<org.eventb.core.variable name="_78mgtM21EeO_w8hSz1RRkQ" org.eventb.core.identifier="process_state"/>
<org.eventb.core.invariant name="_-Q43gM21EeO_w8hSz1RRkQ" org.eventb.core.label="inv_proc" org.eventb.core.predicate="processes ∈ ℙ(PROCESSES)"/>
<org.eventb.core.invariant name="_-Q43gs21EeO_w8hSz1RRkQ" org.eventb.core.label="inv_proc_state" org.eventb.core.predicate="process_state ∈ processes → PROCESS_STATES"/>
<org.eventb.core.invariant name="_-Q43g821EeO_w8hSz1RRkQ" org.eventb.core.label="inv_proc_of_part" org.eventb.core.predicate="processes_of_partition ∈ processes → PARTITIONS"/>
<org.eventb.core.event name="_W14PQNeFEeOCX_cGGZTAxg" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="process_schedule">
<org.eventb.core.parameter name="_W14PQdeFEeOCX_cGGZTAxg" org.eventb.core.identifier="part"/>
<org.eventb.core.parameter name="_W14PQteFEeOCX_cGGZTAxg" org.eventb.core.identifier="proc"/>
<org.eventb.core.guard name="_W14PQ9eFEeOCX_cGGZTAxg" org.eventb.core.label="grd01" org.eventb.core.predicate="part ∈ PARTITIONS"/>
<org.eventb.core.guard name="_W14PRNeFEeOCX_cGGZTAxg" org.eventb.core.label="grd02" org.eventb.core.predicate="proc ∈ processes"/>
<org.eventb.core.guard name="_W14PRdeFEeOCX_cGGZTAxg" org.eventb.core.label="grd03" org.eventb.core.predicate="processes_of_partition(proc) = part"/>
<org.eventb.core.guard name="_W14PRteFEeOCX_cGGZTAxg" org.eventb.core.label="grd04" org.eventb.core.predicate="partition_mode(part) = PM_NORMAL"/>
<org.eventb.core.guard name="_W14PR9eFEeOCX_cGGZTAxg" org.eventb.core.label="grd05" org.eventb.core.predicate="process_state(proc) = PS_Ready ∨ process_state(proc) = PS_Running"/>
<org.eventb.core.action name="_W14PSNeFEeOCX_cGGZTAxg" org.eventb.core.assignment="process_state ≔ (process_state  (process_state∼[{PS_Running}] × {PS_Ready}))  {proc ↦  PS_Running}" org.eventb.core.label="act1"/>
</org.eventb.core.event>
<org.eventb.core.event name="_486GsM4IEeO_w8hSz1RRkQ" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="create_process">
<org.eventb.core.parameter name="_486Gsc4IEeO_w8hSz1RRkQ" org.eventb.core.identifier="part"/>
<org.eventb.core.parameter name="_486Gss4IEeO_w8hSz1RRkQ" org.eventb.core.identifier="proc"/>
<org.eventb.core.guard name="_486Gs84IEeO_w8hSz1RRkQ" org.eventb.core.label="grd01" org.eventb.core.predicate="part ∈ PARTITIONS"/>
<org.eventb.core.guard name="_486GtM4IEeO_w8hSz1RRkQ" org.eventb.core.label="grd02" org.eventb.core.predicate="proc ∈ PROCESSES ∖ processes"/>
<org.eventb.core.guard name="_486Gtc4IEeO_w8hSz1RRkQ" org.eventb.core.label="grd03" org.eventb.core.predicate="partition_mode(part)=PM_COLD_START ∨ partition_mode(part)=PM_WARM_START"/>
<org.eventb.core.action name="_486Gts4IEeO_w8hSz1RRkQ" org.eventb.core.assignment="processes ≔ processes ∪ {proc}" org.eventb.core.label="act01"/>
<org.eventb.core.action name="_486Gt84IEeO_w8hSz1RRkQ" org.eventb.core.assignment="processes_of_partition(proc) ≔ part" org.eventb.core.label="act02"/>
<org.eventb.core.action name="_486GuM4IEeO_w8hSz1RRkQ" org.eventb.core.assignment="process_state(proc) ≔ PS_Dormant" org.eventb.core.label="act03"/>
</org.eventb.core.event>
<org.eventb.core.event name="_I-pwMM4CEeO_w8hSz1RRkQ" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="partition_modetransition_to_idle">
<org.eventb.core.refinesEvent name="_cp3ncDVZEeSxw-wt7-_VGQ" org.eventb.core.target="partition_mode_transition"/>
<org.eventb.core.parameter name="_dV4tkNQtEeOZBrbXix_W6g" org.eventb.core.identifier="part"/>
<org.eventb.core.parameter name="_4pSbENQyEeOZBrbXix_W6g" org.eventb.core.identifier="newm"/>
<org.eventb.core.parameter name="_onEfsM4TEeO_w8hSz1RRkQ" org.eventb.core.identifier="procs"/>
<org.eventb.core.guard name="_dV4tktQtEeOZBrbXix_W6g" org.eventb.core.label="grd01" org.eventb.core.predicate="part ∈ PARTITIONS"/>
<org.eventb.core.guard name="_4pSbEdQyEeOZBrbXix_W6g" org.eventb.core.label="grd02" org.eventb.core.predicate="newm ∈ PARTITION_MODES"/>
<org.eventb.core.guard name="_dV4tlNQtEeOZBrbXix_W6g" org.eventb.core.label="grd03" org.eventb.core.predicate="partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START ∨  partition_mode(part) = PM_NORMAL"/>
<org.eventb.core.guard name="_4pSbEtQyEeOZBrbXix_W6g" org.eventb.core.label="grd04" org.eventb.core.predicate="newm = PM_IDLE"/>
<org.eventb.core.guard name="_onEfsc4TEeO_w8hSz1RRkQ" org.eventb.core.label="grd07" org.eventb.core.predicate="procs = processes_of_partition∼[{part}]"/>
<org.eventb.core.action name="_dV4tldQtEeOZBrbXix_W6g" org.eventb.core.assignment="partition_mode(part) ≔ newm" org.eventb.core.label="act01"/>
<org.eventb.core.action name="_onEftM4TEeO_w8hSz1RRkQ" org.eventb.core.assignment="processes ≔ processes ∖ procs" org.eventb.core.label="act22"/>
<org.eventb.core.action name="_onEftc4TEeO_w8hSz1RRkQ" org.eventb.core.assignment="process_state ≔  procs ⩤ process_state" org.eventb.core.label="act23"/>
<org.eventb.core.action name="_onEfts4TEeO_w8hSz1RRkQ" org.eventb.core.assignment="processes_of_partition ≔  procs ⩤ processes_of_partition" org.eventb.core.label="act24"/>
</org.eventb.core.event>
<org.eventb.core.event name="_onEft84TEeO_w8hSz1RRkQ" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="partition_modetransition_to_normal">
<org.eventb.core.refinesEvent name="_shgOsAcbEeSKIsFb9pX3Wg" org.eventb.core.target="partition_mode_transition"/>
<org.eventb.core.parameter name="_dV4tkdQtEeOZBrbXix_W6g" org.eventb.core.identifier="part"/>
<org.eventb.core.parameter name="_FlBRsNQzEeOZBrbXix_W6g" org.eventb.core.identifier="newm"/>
<org.eventb.core.parameter name="_onEfuc4TEeO_w8hSz1RRkQ" org.eventb.core.identifier="procs"/>
<org.eventb.core.parameter name="_onEfus4TEeO_w8hSz1RRkQ" org.eventb.core.identifier="procsstate"/>
<org.eventb.core.parameter name="_6L3RANHVEeOO1v6vzqtXww" org.eventb.core.identifier="procs2"/>
<org.eventb.core.guard name="_-RhoMNQtEeOZBrbXix_W6g" org.eventb.core.label="grd01" org.eventb.core.predicate="part ∈ PARTITIONS"/>
<org.eventb.core.guard name="_FlBRsdQzEeOZBrbXix_W6g" org.eventb.core.label="grd02" org.eventb.core.predicate="newm ∈ PARTITION_MODES"/>
<org.eventb.core.guard name="_-RhoMdQtEeOZBrbXix_W6g" org.eventb.core.label="grd03" org.eventb.core.predicate="partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START"/>
<org.eventb.core.guard name="_FlBRstQzEeOZBrbXix_W6g" org.eventb.core.label="grd04" org.eventb.core.predicate="newm = PM_NORMAL"/>
<org.eventb.core.guard name="_EiI14NppEeOkp8gIz_e_3A" org.eventb.core.label="grd08" org.eventb.core.predicate="card(processes_of_partition∼[{part}]) &gt; 0"/>
<org.eventb.core.guard name="_JtP2Ys4UEeO_w8hSz1RRkQ" org.eventb.core.label="grd09" org.eventb.core.predicate="procs =processes_of_partition∼[{part}] ∩ process_state∼[{PS_Waiting}]"/>
<org.eventb.core.guard name="_onOQsc4TEeO_w8hSz1RRkQ" org.eventb.core.label="grd10" org.eventb.core.predicate="procs2 = processes_of_partition∼[{part}] ∩ process_state∼[{PS_WaitandSuspend}]"/>
<org.eventb.core.guard name="_6L4fINHVEeOO1v6vzqtXww" org.eventb.core.label="grd101" org.eventb.core.predicate="procsstate ∈ procs → {PS_Waiting,PS_Ready}"/>
<org.eventb.core.action name="_-RhoMtQtEeOZBrbXix_W6g" org.eventb.core.assignment="partition_mode(part) ≔ newm" org.eventb.core.label="act01"/>
<org.eventb.core.action name="_onOQs84TEeO_w8hSz1RRkQ" org.eventb.core.assignment="process_state ≔ (process_state   procsstate)  (procs2 ×{PS_Suspend})" org.eventb.core.label="act22"/>
</org.eventb.core.event>
<org.eventb.core.event name="_onOQtM4TEeO_w8hSz1RRkQ" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="partition_modetransition_to_coldstart">
<org.eventb.core.refinesEvent name="_cp3ncTVZEeSxw-wt7-_VGQ" org.eventb.core.target="partition_mode_transition"/>
<org.eventb.core.parameter name="_Kg_OsNQuEeOZBrbXix_W6g" org.eventb.core.identifier="part"/>
<org.eventb.core.parameter name="_FlBRs9QzEeOZBrbXix_W6g" org.eventb.core.identifier="newm"/>
<org.eventb.core.parameter name="_onOQts4TEeO_w8hSz1RRkQ" org.eventb.core.identifier="procs"/>
<org.eventb.core.guard name="_Kg_OsdQuEeOZBrbXix_W6g" org.eventb.core.label="grd01" org.eventb.core.predicate="part ∈ PARTITIONS"/>
<org.eventb.core.guard name="_FlBRtNQzEeOZBrbXix_W6g" org.eventb.core.label="grd02" org.eventb.core.predicate="newm ∈ PARTITION_MODES"/>
<org.eventb.core.guard name="_FlBRtdQzEeOZBrbXix_W6g" org.eventb.core.label="grd04" org.eventb.core.predicate="newm = PM_COLD_START"/>
<org.eventb.core.guard name="__dbL4NQzEeOZBrbXix_W6g" org.eventb.core.label="grd03" org.eventb.core.predicate="partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START ∨  partition_mode(part) = PM_NORMAL"/>
<org.eventb.core.guard name="_onOQuc4TEeO_w8hSz1RRkQ" org.eventb.core.label="grd08" org.eventb.core.predicate="procs = processes_of_partition∼[{part}]"/>
<org.eventb.core.action name="_Kg_OstQuEeOZBrbXix_W6g" org.eventb.core.assignment="partition_mode(part) ≔ newm" org.eventb.core.label="act01"/>
<org.eventb.core.action name="_djzxIM4UEeO_w8hSz1RRkQ" org.eventb.core.assignment="processes ≔ processes ∖ procs" org.eventb.core.label="act22"/>
<org.eventb.core.action name="_djzxIc4UEeO_w8hSz1RRkQ" org.eventb.core.assignment="process_state ≔  procs ⩤ process_state" org.eventb.core.label="act23"/>
<org.eventb.core.action name="_djzxIs4UEeO_w8hSz1RRkQ" org.eventb.core.assignment="processes_of_partition ≔  procs ⩤ processes_of_partition" org.eventb.core.label="act24"/>
</org.eventb.core.event>
<org.eventb.core.event name="_yWiZMM4UEeO_w8hSz1RRkQ" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="partition_modetransition_to_warmstart">
<org.eventb.core.refinesEvent name="_shgOsQcbEeSKIsFb9pX3Wg" org.eventb.core.target="partition_mode_transition"/>
<org.eventb.core.parameter name="_Kg_Os9QuEeOZBrbXix_W6g" org.eventb.core.identifier="part"/>
<org.eventb.core.parameter name="_FlBRttQzEeOZBrbXix_W6g" org.eventb.core.identifier="newm"/>
<org.eventb.core.parameter name="_yWiZMs4UEeO_w8hSz1RRkQ" org.eventb.core.identifier="procs"/>
<org.eventb.core.guard name="_Kg_OtNQuEeOZBrbXix_W6g" org.eventb.core.label="grd01" org.eventb.core.predicate="part ∈ PARTITIONS"/>
<org.eventb.core.guard name="_FlBRt9QzEeOZBrbXix_W6g" org.eventb.core.label="grd02" org.eventb.core.predicate="newm ∈ PARTITION_MODES"/>
<org.eventb.core.guard name="_FlKboNQzEeOZBrbXix_W6g" org.eventb.core.label="grd04" org.eventb.core.predicate="newm = PM_WARM_START"/>
<org.eventb.core.guard name="_wT5Wkc4VEeO_w8hSz1RRkQ" org.eventb.core.label="grd09" org.eventb.core.predicate="partition_mode(part) = PM_WARM_START ∨  partition_mode(part) = PM_NORMAL"/>
<org.eventb.core.guard name="_yWiZNM4UEeO_w8hSz1RRkQ" org.eventb.core.label="grd08" org.eventb.core.predicate="procs = processes_of_partition∼[{part}]"/>
<org.eventb.core.action name="_Kg_OtdQuEeOZBrbXix_W6g" org.eventb.core.assignment="partition_mode(part) ≔ newm" org.eventb.core.label="act01"/>
<org.eventb.core.action name="_yWiZNc4UEeO_w8hSz1RRkQ" org.eventb.core.assignment="processes ≔ processes ∖ procs" org.eventb.core.label="act22"/>
<org.eventb.core.action name="_yWiZNs4UEeO_w8hSz1RRkQ" org.eventb.core.assignment="process_state ≔  procs ⩤ process_state" org.eventb.core.label="act23"/>
<org.eventb.core.action name="_yWiZN84UEeO_w8hSz1RRkQ" org.eventb.core.assignment="processes_of_partition ≔  procs ⩤ processes_of_partition" org.eventb.core.label="act24"/>
</org.eventb.core.event>
<org.eventb.core.event name="_fiWIoNQuEeOZBrbXix_W6g" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="partition_modetransition_idle_to_warmstart">
<org.eventb.core.refinesEvent name="_aBZgsOGkEeO_gPwQgWKtUw" org.eventb.core.target="partition_mode_transition"/>
<org.eventb.core.parameter name="_fiWIotQuEeOZBrbXix_W6g" org.eventb.core.identifier="part"/>
<org.eventb.core.parameter name="_vq3coNQ0EeOZBrbXix_W6g" org.eventb.core.identifier="newm"/>
<org.eventb.core.guard name="_fiWIo9QuEeOZBrbXix_W6g" org.eventb.core.label="grd01" org.eventb.core.predicate="part ∈ PARTITIONS"/>
<org.eventb.core.guard name="_vq3codQ0EeOZBrbXix_W6g" org.eventb.core.label="grd02" org.eventb.core.predicate="newm ∈ PARTITION_MODES"/>
<org.eventb.core.guard name="_vq3cotQ0EeOZBrbXix_W6g" org.eventb.core.label="grd04" org.eventb.core.predicate="newm = PM_WARM_START"/>
<org.eventb.core.guard name="_fiWIpNQuEeOZBrbXix_W6g" org.eventb.core.label="grd07" org.eventb.core.predicate="partition_mode(part) = PM_IDLE"/>
<org.eventb.core.action name="_fiWIpdQuEeOZBrbXix_W6g" org.eventb.core.assignment="partition_mode(part) ≔ newm" org.eventb.core.label="act01"/>
</org.eventb.core.event>
<org.eventb.core.event name="_fiWIptQuEeOZBrbXix_W6g" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="partition_modetransition_idle_to_coldstart">
<org.eventb.core.refinesEvent name="_rkWMoP_5EeOGibWoyCWxNQ" org.eventb.core.target="partition_mode_transition"/>
<org.eventb.core.parameter name="_fiWIqNQuEeOZBrbXix_W6g" org.eventb.core.identifier="part"/>
<org.eventb.core.parameter name="_vq3co9Q0EeOZBrbXix_W6g" org.eventb.core.identifier="newm"/>
<org.eventb.core.guard name="_fiWIqdQuEeOZBrbXix_W6g" org.eventb.core.label="grd01" org.eventb.core.predicate="part ∈ PARTITIONS"/>
<org.eventb.core.guard name="_vq3cpNQ0EeOZBrbXix_W6g" org.eventb.core.label="grd02" org.eventb.core.predicate="newm ∈ PARTITION_MODES"/>
<org.eventb.core.guard name="_vq3cpdQ0EeOZBrbXix_W6g" org.eventb.core.label="grd04" org.eventb.core.predicate="newm = PM_COLD_START"/>
<org.eventb.core.guard name="_fiWIqtQuEeOZBrbXix_W6g" org.eventb.core.label="grd07" org.eventb.core.predicate="partition_mode(part) = PM_IDLE"/>
<org.eventb.core.action name="_fiWIq9QuEeOZBrbXix_W6g" org.eventb.core.assignment="partition_mode(part) ≔ newm" org.eventb.core.label="act01"/>
</org.eventb.core.event>
<org.eventb.core.event name="_I-pwOc4CEeO_w8hSz1RRkQ" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="process_state_transition">
<org.eventb.core.parameter name="_I-pwOs4CEeO_w8hSz1RRkQ" org.eventb.core.identifier="part"/>
<org.eventb.core.parameter name="_I-pwO84CEeO_w8hSz1RRkQ" org.eventb.core.identifier="proc"/>
<org.eventb.core.parameter name="_I-pwPM4CEeO_w8hSz1RRkQ" org.eventb.core.identifier="newstate"/>
<org.eventb.core.guard name="_I-pwPc4CEeO_w8hSz1RRkQ" org.eventb.core.label="grd01" org.eventb.core.predicate="part ∈ PARTITIONS"/>
<org.eventb.core.guard name="_I-pwPs4CEeO_w8hSz1RRkQ" org.eventb.core.label="grd02" org.eventb.core.predicate="proc ∈ processes"/>
<org.eventb.core.guard name="_I-pwP84CEeO_w8hSz1RRkQ" org.eventb.core.label="grd03" org.eventb.core.predicate="newstate ∈ PROCESS_STATES"/>
<org.eventb.core.guard name="_QO4ckM4CEeO_w8hSz1RRkQ" org.eventb.core.label="grd06" org.eventb.core.predicate="processes_of_partition(proc) = part"/>
<org.eventb.core.guard name="_IOmasNHQEeOO1v6vzqtXww" org.eventb.core.comment="partition_mode(part) ≠ PM_IDLE" org.eventb.core.label="grd07" org.eventb.core.predicate="partition_mode(part) = PM_NORMAL ∨ partition_mode(part) = PM_WARM_START ∨ partition_mode(part) = PM_COLD_START"/>
<org.eventb.core.guard name="_QO4cks4CEeO_w8hSz1RRkQ" org.eventb.core.label="grd20" org.eventb.core.predicate="((partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_Dormant) ⇒ newstate = PS_Waiting"/>
<org.eventb.core.guard name="_QO4ck84CEeO_w8hSz1RRkQ" org.eventb.core.label="grd21" org.eventb.core.predicate="((partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_Waiting) ⇒ (newstate = PS_Dormant ∨ newstate = PS_WaitandSuspend)"/>
<org.eventb.core.guard name="_EQZbMNGNEeOO1v6vzqtXww" org.eventb.core.label="grd29" org.eventb.core.predicate="((partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_WaitandSuspend) ⇒ (newstate = PS_Dormant ∨ newstate = PS_Waiting)"/>
<org.eventb.core.guard name="_44KRcNQaEeOZBrbXix_W6g" org.eventb.core.label="grd22" org.eventb.core.predicate="(partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Dormant) ⇒ (newstate = PS_Ready ∨newstate = PS_Waiting)"/>
<org.eventb.core.guard name="_QO4clc4CEeO_w8hSz1RRkQ" org.eventb.core.label="grd23" org.eventb.core.predicate="(partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Ready) ⇒ (newstate = PS_Dormant ∨ newstate = PS_Suspend)"/>
<org.eventb.core.guard name="_QO4cls4CEeO_w8hSz1RRkQ" org.eventb.core.label="grd24" org.eventb.core.predicate="(partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Waiting) ⇒ (newstate = PS_Dormant ∨newstate = PS_WaitandSuspend ∨newstate = PS_Ready)"/>
<org.eventb.core.guard name="_QO4cl84CEeO_w8hSz1RRkQ" org.eventb.core.label="grd25" org.eventb.core.predicate="(partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Suspend) ⇒ (newstate = PS_Dormant ∨newstate = PS_Ready)"/>
<org.eventb.core.guard name="_QO4cmM4CEeO_w8hSz1RRkQ" org.eventb.core.label="grd28" org.eventb.core.predicate="(partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_WaitandSuspend) ⇒ (newstate = PS_Waiting ∨newstate = PS_Suspend∨newstate = PS_Dormant)"/>
<org.eventb.core.guard name="_QO4cmc4CEeO_w8hSz1RRkQ" org.eventb.core.label="grd27" org.eventb.core.predicate="(partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Running) ⇒  (newstate = PS_Running ∨ newstate = PS_Ready ∨ newstate = PS_Waiting ∨newstate = PS_Suspend∨newstate = PS_Dormant)"/>
<org.eventb.core.action name="_MdsPoM4SEeO_w8hSz1RRkQ" org.eventb.core.assignment="process_state(proc) ≔ newstate" org.eventb.core.label="act01"/>
</org.eventb.core.event>
<org.eventb.core.invariant name="_CjroYNmpEeO0qb61sEhIIg" org.eventb.core.label="inv_readyrunsuspproc_onlyin_normalpart" org.eventb.core.predicate="∀p·(p∈PARTITIONS ∧ partition_mode(p) ≠ PM_NORMAL ⇒&#10;                                          ∀proc·(proc ∈ processes_of_partition∼[{p}] ⇒&#10;                                          process_state(proc) ≠PS_Ready ∧ process_state(proc) ≠PS_Running ∧ process_state(proc) ≠PS_Suspend) )"/>
<org.eventb.core.invariant name="_abOhwdmoEeO0qb61sEhIIg" org.eventb.core.label="inv_readyrunsusp_proc_imply_normalpart" org.eventb.core.predicate="∀proc·(proc ∈ processes ∧ (process_state(proc)=PS_Ready ∨ process_state(proc)=PS_Running ∨ process_state(proc)=PS_Suspend)&#10;                                          ⇒  partition_mode(processes_of_partition(proc)) = PM_NORMAL)"/>
<org.eventb.core.invariant name="_F0KtAs4JEeO_w8hSz1RRkQ" org.eventb.core.label="inv_noproc_imply_notnormal" org.eventb.core.predicate="∀part·(part ∈ PARTITIONS ∧ part∈ran(processes_of_partition) ∧ card(processes_of_partition∼[{part}])=0 ⇒  partition_mode(part) ≠ PM_NORMAL)"/>
<org.eventb.core.invariant name="_F0KtA84JEeO_w8hSz1RRkQ" org.eventb.core.label="inv_normalmode_imply_procs" org.eventb.core.predicate="∀part·(part ∈ PARTITIONS ∧ partition_mode(part) = PM_NORMAL ⇒ part∈ran(processes_of_partition) ∧card(processes_of_partition∼[{part}])&gt;0)"/>
<org.eventb.core.invariant name="_F0KtBM4JEeO_w8hSz1RRkQ" org.eventb.core.label="inv_idlemode_imply_noproc" org.eventb.core.predicate="∀part·(part ∈ PARTITIONS ∧ partition_mode(part) = PM_IDLE ⇒ part∉ran(processes_of_partition))"/>
<org.eventb.core.event name="_aBiqoOGkEeO_gPwQgWKtUw" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.label="process_state_transition2">
<org.eventb.core.parameter name="_aBiqoeGkEeO_gPwQgWKtUw" org.eventb.core.identifier="part"/>
<org.eventb.core.parameter name="_aBiqouGkEeO_gPwQgWKtUw" org.eventb.core.identifier="procs"/>
<org.eventb.core.parameter name="_aBiqo-GkEeO_gPwQgWKtUw" org.eventb.core.identifier="newstates"/>
<org.eventb.core.guard name="_aBiqrOGkEeO_gPwQgWKtUw" org.eventb.core.label="grd01" org.eventb.core.predicate="part ∈ PARTITIONS"/>
<org.eventb.core.guard name="_aBiqreGkEeO_gPwQgWKtUw" org.eventb.core.label="grd02" org.eventb.core.predicate="procs ⊆ processes"/>
<org.eventb.core.guard name="_aBiqruGkEeO_gPwQgWKtUw" org.eventb.core.label="grd03" org.eventb.core.predicate="newstates ∈ procs → PROCESS_STATES"/>
<org.eventb.core.guard name="_aBiqr-GkEeO_gPwQgWKtUw" org.eventb.core.label="grd06" org.eventb.core.predicate="procs ⊆ processes_of_partition∼[{part}]"/>
<org.eventb.core.guard name="_aBiqsOGkEeO_gPwQgWKtUw" org.eventb.core.comment="partition_mode(part) ≠ PM_IDLE" org.eventb.core.label="grd07" org.eventb.core.predicate="partition_mode(part) = PM_NORMAL ∨ partition_mode(part) = PM_WARM_START ∨ partition_mode(part) = PM_COLD_START"/>
<org.eventb.core.guard name="_aBiqseGkEeO_gPwQgWKtUw" org.eventb.core.label="grd20" org.eventb.core.predicate="∀proc·((proc∈procs ∧ (partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_Dormant) ⇒ newstates(proc) = PS_Waiting )"/>
<org.eventb.core.guard name="_aBiqpOGkEeO_gPwQgWKtUw" org.eventb.core.label="grd21" org.eventb.core.predicate="∀proc·((proc∈procs ∧ (partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_Waiting) ⇒ (newstates(proc) = PS_Dormant ∨ newstates(proc) = PS_WaitandSuspend) )"/>
<org.eventb.core.guard name="_aBiqpeGkEeO_gPwQgWKtUw" org.eventb.core.label="grd29" org.eventb.core.predicate="∀proc·((proc∈procs ∧ (partition_mode(part) = PM_COLD_START ∨ partition_mode(part) = PM_WARM_START) ∧ process_state(proc) = PS_WaitandSuspend) ⇒ (newstates(proc) = PS_Dormant ∨ newstates(proc) = PS_Waiting))"/>
<org.eventb.core.guard name="_aBiqpuGkEeO_gPwQgWKtUw" org.eventb.core.label="grd22" org.eventb.core.predicate="∀proc·(proc∈procs ∧ (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Dormant) ⇒ (newstates(proc) = PS_Ready ∨newstates(proc) = PS_Waiting) )"/>
<org.eventb.core.guard name="_aBiqp-GkEeO_gPwQgWKtUw" org.eventb.core.label="grd23" org.eventb.core.predicate="∀proc·(proc∈procs ∧  (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Ready) ⇒ (newstates(proc) = PS_Dormant ∨ newstates(proc) = PS_Suspend) )"/>
<org.eventb.core.guard name="_aBiqqOGkEeO_gPwQgWKtUw" org.eventb.core.label="grd24" org.eventb.core.predicate="∀proc·(proc∈procs ∧ (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Waiting) ⇒ (newstates(proc) = PS_Dormant ∨newstates(proc) = PS_WaitandSuspend ∨newstates(proc) = PS_Ready) )"/>
<org.eventb.core.guard name="_aBiqqeGkEeO_gPwQgWKtUw" org.eventb.core.label="grd25" org.eventb.core.predicate="∀proc·(proc∈procs ∧ (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Suspend) ⇒ (newstates(proc) = PS_Dormant ∨newstates(proc) = PS_Ready) )"/>
<org.eventb.core.guard name="_aBiqquGkEeO_gPwQgWKtUw" org.eventb.core.label="grd28" org.eventb.core.predicate="∀proc·(proc∈procs ∧ (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_WaitandSuspend) ⇒ (newstates(proc) = PS_Waiting ∨newstates(proc) = PS_Suspend∨newstates(proc) = PS_Dormant) )"/>
<org.eventb.core.guard name="_aBiqq-GkEeO_gPwQgWKtUw" org.eventb.core.label="grd27" org.eventb.core.predicate="∀proc·(proc∈procs ∧ (partition_mode(part) = PM_NORMAL ∧ process_state(proc) = PS_Running) ⇒  (newstates(proc) = PS_Running ∨ newstates(proc) = PS_Ready ∨ newstates(proc) = PS_Waiting ∨newstates(proc) = PS_Suspend∨newstates(proc) = PS_Dormant) )"/>
<org.eventb.core.action name="_aBiqsuGkEeO_gPwQgWKtUw" org.eventb.core.assignment="process_state ≔ process_state  newstates" org.eventb.core.label="act01"/>
</org.eventb.core.event>
<org.eventb.core.invariant name="_QGYyAG_4EeW-QJ0vOYKCKQ" org.eventb.core.label="inv_part_mode" org.eventb.core.predicate="partition_mode ∈ PARTITIONS → PARTITION_MODES"/>
</org.eventb.core.machineFile>
